<div class="app-layout__sidebar" [ngClass]="{'expanded': isExpand}">
    <div class="region-navigation">
        <div class="region-navigation__container">
            <button class="region-navigation__container__button region-navigation__container__button--workspace">
                <svg xmlns="http://www.w3.org/2000/svg" width="1.55rem" height="1.55rem" viewBox="0 0 24 24">
                    <path fill="currentColor"
                        d="M21 15.998v-6c0-2.828 0-4.242-.879-5.121C19.353 4.109 18.175 4.012 16 4H8c-2.175.012-3.353.109-4.121.877C3 5.756 3 7.17 3 9.998v6c0 2.829 0 4.243.879 5.122c.878.878 2.293.878 5.121.878h6c2.828 0 4.243 0 5.121-.878c.879-.88.879-2.293.879-5.122"
                        opacity="0.5" />
                    <path fill="currentColor"
                        d="M8 3.5A1.5 1.5 0 0 1 9.5 2h5A1.5 1.5 0 0 1 16 3.5v1A1.5 1.5 0 0 1 14.5 6h-5A1.5 1.5 0 0 1 8 4.5z" />
                    <path fill="currentColor" fill-rule="evenodd"
                        d="M6.25 10.5A.75.75 0 0 1 7 9.75h10a.75.75 0 0 1 0 1.5H7a.75.75 0 0 1-.75-.75m1 3.5a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75m1 3.5a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75"
                        clip-rule="evenodd" />
                </svg>
            </button>
    
    
            <button class="region-navigation__container__button region-navigation__container__button--chart">
                <svg xmlns="http://www.w3.org/2000/svg" width="1.6rem" height="1.6rem" viewBox="0 0 24 24">
                    <path fill="currentColor" fill-rule="evenodd"
                        d="M14 20.5V4.25c0-.728-.002-1.2-.048-1.546c-.044-.325-.115-.427-.172-.484s-.159-.128-.484-.172C12.949 2.002 12.478 2 11.75 2s-1.2.002-1.546.048c-.325.044-.427.115-.484.172s-.128.159-.172.484c-.046.347-.048.818-.048 1.546V20.5z"
                        clip-rule="evenodd" />
                    <path fill="currentColor"
                        d="M8 8.75A.75.75 0 0 0 7.25 8h-3a.75.75 0 0 0-.75.75V20.5H8zm12 5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75v6.75H20z"
                        opacity="0.75" />
                    <path fill="currentColor" d="M1.75 20.5a.75.75 0 0 0 0 1.5h20a.75.75 0 0 0 0-1.5z" opacity="0.5" />
                </svg>
            </button>
    
            <button class="region-navigation__container__button region-navigation__container__button--database">
    
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M11 12c2.485 0 4.5-.833 4.5-2.5V6.322a5 5 0 0 1-.635.388c-1.1.564-2.487.79-3.865.79zm0-6h-.035c-.186-1.3-1.089-2.193-2.1-2.71c-.64-.328-1.376-.541-2.15-.663C7.296 1.542 8.995 1 11 1c2.485 0 4.5.833 4.5 2.5S13.485 6 11 6m-1.5 6.5C9.5 14.167 7.485 15 5 15S.5 14.167.5 12.5V9.322q.305.22.635.388c1.1.564 2.487.79 3.865.79s2.764-.226 3.865-.79q.33-.168.635-.388zM5 9c2.485 0 4.5-.833 4.5-2.5S7.485 4 5 4S.5 4.833.5 6.5S2.515 9 5 9" clip-rule="evenodd"/></svg>
                 <!-- <svg xmlns="http://www.w3.org/2000/svg" width="1.35rem" height="1.35rem" viewBox="0 0 16 16">
                    <g fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="white"
                            d="M4.5 4.5H12A1.5 1.5 0 0 1 13.5 6v.5m-7.5 7H2A1.5 1.5 0 0 1 .5 12V3.5a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v1" />
                        <path stroke="currentColor"
                            d="M8.5 9.5q1 1 3.5 1t3.5-1m-7 2.5q1 1 3.5 1t3.5-1m-7 2.5v-5q1-1 3.5-1t3.5 1v5q-1 1-3.5 1t-3.5-1" />
                    </g>
                </svg> -->
            </button>
    
            <button class="region-navigation__container__button region-navigation__container__button--layout">
                <svg xmlns="http://www.w3.org/2000/svg" width="1.5rem" height="1.5rem" viewBox="0 0 48 48">
                    <defs>
                        <mask id="ipTLayoutFour0">
                            <g fill="none" stroke="#fff" stroke-linejoin="round" stroke-width="3.35">
                                <rect width="36" height="36" x="6" y="6" fill="#404040" rx="3" />
                                <path stroke-linecap="round" d="M6 28h18m0-8h18M6 25v6m36-14v6M24 42V6m-3 0h6m-6 36h6" />
                            </g>
                        </mask>
                    </defs>
                    <path fill="currentColor" d="M0 0h48v48H0z" mask="url(#ipTLayoutFour0)" />
                </svg>
            </button>
    
    
            <button class="region-navigation__container__button region-navigation__container__button--add">
                <svg xmlns="http://www.w3.org/2000/svg" width="2rem" height="2rem" viewBox="0 0 24 24">
                    <g fill="none">
                        <circle cx="12" cy="12" r="9" fill="currentColor" fill-opacity="0.2" />
                        <path stroke="currentColor" stroke-linecap="square" stroke-linejoin="round" stroke-width="2.15"
                            d="M12 8v8m4-4H8" />
                    </g>
                </svg>
            </button>
    
        </div>
    </div>
    <div class="app-layout__sidebar__container">
        <!-- <div class="app-layout__sidebar__logo">
            <span *ngIf="isExpand">
                <svg style="height: 28px;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 155 28"><rect width="10.16" height="19.93" fill="currentColor" rx="5.08" transform="rotate(29.49 -5.18 20.77) skewX(.85)"></rect><rect width="10.16" height="25.62" fill="currentColor" rx="5.08" transform="matrix(.87 .492 -.48 .878 27.17 0)"></rect><rect width="10.16" height="10.25" fill="currentColor" opacity=".5" rx="5.08" transform="rotate(29.49 -8.24 75.34) skewX(.85)"></rect><path fill="currentColor" d="M58.94 21.4h-2.66v-9.83h2.66v9.84ZM55.96 8.36c0-.46.16-.84.48-1.16.32-.34.7-.5 1.16-.5.45 0 .84.16 1.16.48.32.32.48.71.48 1.18 0 .44-.16.82-.48 1.14-.32.32-.7.48-1.16.48-.45 0-.84-.16-1.16-.48-.32-.32-.48-.7-.48-1.14Zm4.49 10.32 2.28-.5c.02.42.2.78.5 1.08.32.28.75.42 1.3.42.41 0 .73-.1.96-.28a.87.87 0 0 0 .34-.7c0-.5-.36-.82-1.06-.96l-1.3-.3a3.78 3.78 0 0 1-2.08-1.08 2.96 2.96 0 0 1 .36-4.14c.7-.63 1.58-.94 2.64-.94.66 0 1.25.1 1.76.3.5.18.9.43 1.18.74.28.29.5.59.64.9.14.3.24.6.28.9l-2.22.5a1.63 1.63 0 0 0-.48-.92c-.26-.27-.64-.4-1.14-.4-.35 0-.65.1-.9.28a.85.85 0 0 0-.36.7c0 .48.3.77.9.88l1.4.3c.94.2 1.66.56 2.16 1.1.5.53.76 1.17.76 1.92 0 .88-.34 1.64-1 2.28a3.9 3.9 0 0 1-2.82.96c-.7 0-1.32-.1-1.86-.3a3.51 3.51 0 0 1-1.28-.8c-.3-.34-.52-.66-.68-.98a3.52 3.52 0 0 1-.28-.96Zm12.16-.12c.5.5 1.08.74 1.78.74s1.28-.25 1.76-.74c.5-.5.74-1.18.74-2.06 0-.88-.25-1.57-.74-2.06a2.36 2.36 0 0 0-1.76-.74c-.7 0-1.29.24-1.78.74-.48.5-.72 1.18-.72 2.06 0 .88.24 1.56.72 2.06Zm-1.92-5.8a5.02 5.02 0 0 1 3.7-1.48 5.07 5.07 0 0 1 5.16 5.22 5.07 5.07 0 0 1-5.16 5.22 5.02 5.02 0 0 1-5.16-5.22c0-1.5.48-2.76 1.46-3.74ZM83.8 21.4h-2.66v-9.84h2.54v1.2c.25-.46.65-.82 1.2-1.08a3.8 3.8 0 0 1 1.68-.4c1.42 0 2.4.54 2.92 1.64a3.48 3.48 0 0 1 3.12-1.64c1 0 1.84.31 2.52.94.7.62 1.04 1.56 1.04 2.8v6.38h-2.58v-5.84c0-.56-.15-1.01-.44-1.34-.28-.35-.72-.52-1.3-.52-.55 0-.99.18-1.32.56a2 2 0 0 0-.5 1.38v5.76h-2.64v-5.84c0-.56-.15-1.01-.44-1.34-.3-.35-.73-.52-1.3-.52-.56 0-1.01.18-1.34.56-.34.36-.5.82-.5 1.38v5.76Zm17.2-2.86c.48.5 1.08.74 1.77.74.7 0 1.28-.25 1.76-.74.5-.5.74-1.18.74-2.06 0-.88-.25-1.57-.74-2.06a2.36 2.36 0 0 0-1.76-.74c-.7 0-1.28.24-1.78.74-.48.5-.72 1.18-.72 2.06 0 .88.24 1.56.72 2.06Zm-1.93-5.8a5.02 5.02 0 0 1 3.7-1.48 5.07 5.07 0 0 1 5.16 5.22 5.07 5.07 0 0 1-5.16 5.22 5.02 5.02 0 0 1-5.16-5.22c0-1.5.49-2.76 1.46-3.74Zm16.46-1.22v2.68a4.08 4.08 0 0 0-.8-.08c-.76 0-1.37.22-1.84.66-.47.42-.7 1.13-.7 2.12v4.5h-2.66v-9.84h2.58v1.46c.48-1.03 1.41-1.54 2.8-1.54.15 0 .36.01.62.04Zm4.03 13.68h-2.66V11.57h2.58v1.2c.24-.4.63-.74 1.16-1a3.94 3.94 0 0 1 1.86-.42c1.4 0 2.5.48 3.32 1.44a5.45 5.45 0 0 1 1.22 3.68c0 1.5-.43 2.74-1.3 3.72a4.23 4.23 0 0 1-3.34 1.46c-1.3 0-2.25-.4-2.84-1.2v4.76Zm4.16-6.68c.47-.51.7-1.19.7-2.04 0-.86-.23-1.53-.7-2.02a2.26 2.26 0 0 0-1.74-.74c-.7 0-1.3.25-1.76.76-.46.49-.7 1.16-.7 2 0 .84.24 1.51.7 2.02.47.5 1.06.76 1.76.76s1.29-.25 1.74-.74Zm7.59-2.9v5.78h-2.66V6.93h2.66v5.46c.6-.72 1.49-1.08 2.66-1.08 1.2 0 2.1.36 2.72 1.1.63.72.94 1.65.94 2.8v6.2h-2.66v-5.74c0-.59-.15-1.06-.46-1.42-.3-.36-.75-.54-1.36-.54-.55 0-.99.18-1.32.54-.32.36-.5.82-.52 1.38Zm11.18 5.78h-2.66v-9.84h2.66v9.84Zm-2.98-13.06c0-.46.16-.84.48-1.16.32-.34.7-.5 1.16-.5.45 0 .84.16 1.16.48.32.32.48.71.48 1.18 0 .44-.16.82-.48 1.14-.32.32-.7.48-1.16.48-.45 0-.84-.16-1.16-.48-.32-.32-.48-.7-.48-1.14Zm9.75 5.38c-.71 0-1.3.24-1.78.74-.48.49-.72 1.16-.72 2.02 0 .85.24 1.53.72 2.04.49.49 1.09.74 1.8.74.62 0 1.12-.16 1.5-.48.37-.34.62-.73.76-1.18l2.34.78c-.24.9-.76 1.68-1.56 2.34-.8.65-1.82.98-3.04.98a5.06 5.06 0 0 1-5.18-5.22c0-1.5.48-2.76 1.46-3.74a4.95 4.95 0 0 1 3.64-1.48c1.25 0 2.28.32 3.08.98.8.64 1.31 1.42 1.54 2.34l-2.38.8c-.32-1.11-1.05-1.66-2.18-1.66Z"></path></svg>
            </span>
            <span *ngIf="!isExpand">
                <svg style="height: 24px;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 48 26"><rect width="10.16" height="19.93" fill="currentColor" rx="5.08" transform="rotate(29.49 -5.18 20.77) skewX(.85)"></rect><rect width="10.16" height="25.62" fill="currentColor" rx="5.08" transform="matrix(.87 .492 -.48 .878 27.17 0)"></rect><rect width="10.16" height="10.25" fill="currentColor" opacity=".5" rx="5.08" transform="rotate(29.49 -8.24 75.34) skewX(.85)"></rect></svg>
            </span>
        </div> -->
    
        <ul class="app-layout__sidebar__list flex--1">
            
            <ng-container *ngFor="let item of list; let i=index"> 
                <div *ngIf="item.groupName && (i==0 || (i > 0 && list[i-1].groupName != item.groupName))" class="app-layout__sidebar__title">
                    <p class="app-layout__sidebar__title__content">
                        {{item.groupName}}
                    </p>
                </div> 
                <li *ngIf="item.routerLink && !item.subRouter" class="app-layout__sidebar__item" 
                    [routerLinkActive]="'active'" [routerLinkActiveOptions]="{ exact: true }"
                >
                    <div class="app-layout__sidebar__item__header">
                        <a class="app-layout__sidebar__item__link" [routerLink]="[item.routerLink]">
                            <span class="app-layout__sidebar__item__link__icon">
                                <i [class]="item.routerIcon"></i>
                            </span>
                            <span class="app-layout__sidebar__item__link__title">{{item.routerName}}</span>
                        </a>
                    </div>
                </li> 
                <li *ngIf="!item.routerLink && item.subRouter" class="app-layout__sidebar__item" 
                    [routerLinkActive]="'active'" [routerLinkActiveOptions]="{ exact: true }"
                >
                    <div class="app-layout__sidebar__item__header">
                        <button class="app-layout__sidebar__item__link" (click)="handleOpenMenu($event)" [routerLink]="[item.routerLink]">
                            <span class="app-layout__sidebar__item__link__icon">
                                <i [class]="item.routerIcon"></i>
                            </span> 
                            <span class="app-layout__sidebar__item__link__title">{{item.routerName}}</span>
                        </button>
                    </div>
                    <div class="app-layout__sidebar__item__group">
                        <ul class="app-layout__sidebar__item__group__list">
                            <li *ngFor="let _item of item.subRouter" class="app-layout__sidebar__item">
                                <div class="app-layout__sidebar__item__header">
                                    <a class="app-layout__sidebar__item__link" [routerLink]="[_item.routerLink]">
                                        <span class="app-layout__sidebar__item__link__icon">
                                            <!-- <ng-container *ngTemplateOutlet="iconDropdown"></ng-container> -->
                                            <i [class]="_item.routerIcon"></i>
                                        </span>
                                        <span class="app-layout__sidebar__item__link__title">{{_item.routerName}}</span>
                                    </a>
                                </div>
                            </li> 
                        </ul>
                    </div>
                </li>
            </ng-container> 
        </ul>
        <ul class="app-layout__sidebar__options app-layout__sidebar__list">
            <li class="app-layout__sidebar__item">
                <div class="app-layout__sidebar__item__header">
                    <a class="app-layout__sidebar__item__link" [routerLink]="['/main/diagram']">
                        <span class="app-layout__sidebar__item__link__icon">
                            <i class="fa-solid fa-folder-tree"></i>
                        </span>
                        <span class="app-layout__sidebar__item__link__title">Thông tin trang</span>
                    </a>
                </div>
            </li>
            <li class="app-layout__sidebar__item">
                <div class="app-layout__sidebar__item__header">
                    <a class="app-layout__sidebar__item__link" [routerLink]="['/main/diagram']">
                        <span class="app-layout__sidebar__item__link__icon">
                            <i class="fa-solid fa-gear"></i>
                        </span>
                        <span class="app-layout__sidebar__item__link__title">Cài đặt hệ thống</span>
                    </a>
                </div>
            </li>
            <li class="app-layout__sidebar__item">
                <div class="app-layout__sidebar__item__header">
                    <a class="app-layout__sidebar__item__link" [routerLink]="['/main/diagram']">
                        <span class="app-layout__sidebar__item__link__icon">
                            <i class="fa-solid fa-circle-info"></i>
                        </span>
                        <span class="app-layout__sidebar__item__link__title">Giới thiệu</span>
                    </a>
                </div>
            </li>
            <li class="app-layout__sidebar__options__item">
                <button class="app-layout__sidebar__options__button" (click)="handleToggleExpand()">
                    <i class="fa-solid fa-arrow-right" [ngClass]="{'extended': isExpand}"></i>
                </button>
            </li>
        </ul>
    </div>
</div>

<ng-template #iconDropdown>
    <div class="icon-dropdown">
        <i class="fa-solid fa-circle"></i>
    </div>
</ng-template>